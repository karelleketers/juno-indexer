# To improve query performance, we strongly suggest adding indexes to any field that you plan to filter or sort by
# Add the `@index` or `@index(unique: true)` annotation after any non-key field
# https://academy.subquery.network/build/graphql.html#indexing-by-non-primary-key-field

type Message @entity {
  id: ID!
  blockHeight: BigInt!
  txHash: String!
  name: String!
  symbol: String!
  decimals: Int!
}

type Token @entity {
  id: ID!

  """ Token address """
  address: Bytes!

  """ Number of decimals the token uses """
  decimals: Int!

  """ Human-readable name of the token """
  name: String!

  """ Symbol of the token """
  symbol: String!

  """ Token description """
  description: String

  """ Image URL """
  imageUrl: String

  """ Token flags """
  flags: [String!]!

  """ Total number of events (all types)"""
  eventCount: BigInt!

  """ Total number of transfer events """
  transferEventCount: BigInt!

  #TODO: BigDecimal Custom Scalar
  """ Total token supply """
  totalSupply: String!

  #TODO: BigDecimal Custom Scalar
  """ Total token burned """
  totalBurned: String!

  #TODO: BigDecimal Custom Scalar
  """ Total token minted """
  totalMinted: String!

  #TODO: BigDecimal Custom Scalar
  """ Total token transferred """
  totalTransferred: String!

  #""" List of token events """
  #events: [TokenEvent!]! @derivedFrom(field: "token")
}


type TransferEvent @entity {
  id: ID!

  """ Token Address """
  token: Token!

  #TODO: BigDecimal Custom Scalar
  """Quantity of tokens transferred """
  amount: String!

  """ Transaction sender address """
  sender: Bytes!

  """Address of source account """
  source: Bytes!

  """Address of destination account"""
  destination: Bytes!

  """ Block number/ Block Height """
  block: BigInt!

  """ Event timestamp """
  timestamp: BigInt!

  """ Transaction hash """
  transaction: Bytes!
  
}